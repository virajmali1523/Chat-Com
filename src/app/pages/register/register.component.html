<div class="register-container">
  <h2>Create Your Account</h2>

  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
  <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>

  <form (ngSubmit)="onRegister()" #registerForm="ngForm">
    <div class="form-group">
      <label>Full Name</label>
      <input
        type="text"
        name="name"
        [(ngModel)]="name"
        required
        minlength="3"
        placeholder="Enter your full name"
        #nameInput="ngModel"
      />
      <div class="error" *ngIf="nameInput.invalid && nameInput.touched">
        <small *ngIf="nameInput.errors?.['required']">Full name is required.</small>
        <small *ngIf="nameInput.errors?.['minlength']">At least 3 characters.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Email</label>
      <input
        type="email"
        name="email"
        [(ngModel)]="email"
        required
        email
        placeholder="you@example.com"
        #emailInput="ngModel"
      />
      <div class="error" *ngIf="emailInput.invalid && emailInput.touched">
        <small *ngIf="emailInput.errors?.['required']">Email is required.</small>
        <small *ngIf="emailInput.errors?.['email']">Enter a valid email.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Password</label>
      <input
        type="password"
        name="password"
        [(ngModel)]="password"
        required
        minlength="6"
        placeholder="Create password"
        #passwordInput="ngModel"
      />
      <div class="error" *ngIf="passwordInput.invalid && passwordInput.touched">
        <small *ngIf="passwordInput.errors?.['required']">Password is required.</small>
        <small *ngIf="passwordInput.errors?.['minlength']">Minimum 6 characters.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Confirm Password</label>
      <input
        type="password"
        name="confirmPassword"
        [(ngModel)]="confirmPassword"
        required
        placeholder="Re-enter password"
        #confirmInput="ngModel"
      />
      <div class="error" *ngIf="confirmPassword !== password && confirmInput.touched">
        <small>Passwords do not match.</small>
      </div>
    </div>

    <button type="submit" [disabled]="!registerForm.valid || password !== confirmPassword">
      Sign Up
    </button>
  </form>

  <p class="login-link">
    Already have an account? <a routerLink="/login">Login</a>
  </p>
</div>
